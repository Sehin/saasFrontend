@using MvcWebRole1.Models
@using MvcWebRole1.Controllers
@model Newsfeed

@{
    foreach (IVKPost post in Model.feed)
    {
        <div class="post">
        @switch (post.GetType().Name)
        {
            case "Post":
                Post pst = (Post)post;
                IProfile profile = Model.getProfileById(pst.idFrom);
                String text = pst.text;
                String date = pst.date.Day + "." + pst.date.Month + "." + pst.date.Year + "/" + pst.date.Hour + ":" + pst.date.Minute;
                Html.RenderPartial("VkPostPartial", profile);
                
                <div class="post-time">@date</div>
                <hr class="blackhr"/>
                <div class="post-text">@Html.Raw(text)</div>
                if (post.attach!=null)
                {
                    Html.RenderPartial("VkPostAttachmentPartial", post.attach);
                }
                break;
        }
        </div>
    }


}
